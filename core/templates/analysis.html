{% extends "base.html" %}

{% block content %}

<!-- ### Include Chart.js CDN ### -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<br>

<h4>Employee happiness</h4>

<div>
   <canvas id="employee-happiness"></canvas>
</div>

<!-- ### Employee happiness data (views.py) ### -->
<script id="happiness-labels" type="application/json">{{happiness_labels|safe}}</script>
<script id="happiness-data" type="application/json">{{happiness_data}}</script>

<!-- ### Employee happiness bar chart ### -->
<script>
   const happiness_labels = JSON.parse(document.getElementById('happiness-labels').textContent);
   const happiness_data = JSON.parse(document.getElementById('happiness-data').textContent);
   const employee_happiness = document.getElementById('employee-happiness');
   new Chart(employee_happiness, {
      type: 'bar',
      data: {
         labels: [''],
         datasets: [{
            data: [happiness_data[0]],
            label: happiness_labels[0],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#36A2EB"
         }, {
            data: [happiness_data[1]],
            label: happiness_labels[1],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#FF6384"
         }, {
            data: [happiness_data[2]],
            label: happiness_labels[2],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#FF9F40"
         }, {
            data: [happiness_data[3]],
            label: happiness_labels[3],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#FFCD56"
         }, {
            data: [happiness_data[4]],
            label: happiness_labels[4],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#4BC0C0"
         }
         ]
      },
      options: {
         indexAxis: 'y',
         scales: {
            x: {
               max: 100,
               stacked: true
            },
            y: {
               stacked: true
            }
         }
      }
   });
</script>

<br><br>

<h4>Employee productivity</h4>

<div>
   <canvas id="employee-productivity"></canvas>
</div>

<!-- ### Employee productivity data (views.py) ### -->
<script id="productivity-labels" type="application/json">{{productivity_labels|safe}}</script>
<script id="productivity-data" type="application/json">{{productivity_data}}</script>

<!-- ### Employee productivity bar chart ### -->
<script>
   const productivity_labels = JSON.parse(document.getElementById('productivity-labels').textContent);
   const productivity_data = JSON.parse(document.getElementById('productivity-data').textContent);
   const employee_productivity = document.getElementById('employee-productivity');
   new Chart(employee_productivity, {
      type: 'bar',
      data: {
         labels: [''],
         datasets: [{
            data: [productivity_data[0]],
            label: productivity_labels[0],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#36A2EB"
         }, {
            data: [productivity_data[1]],
            label: productivity_labels[1],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#FF6384"
         }, {
            data: [productivity_data[2]],
            label: productivity_labels[2],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#FF9F40"
         }, {
            data: [productivity_data[3]],
            label: productivity_labels[3],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#FFCD56"
         }, {
            data: [productivity_data[4]],
            label: productivity_labels[4],
            borderWidth: 3,
            borderColor: '#FFF',
            backgroundColor: "#4BC0C0"
         }
         ]
      },
      options: {
         indexAxis: 'y',
         scales: {
            x: {
               max: 100,
               stacked: true
            },
            y: {
               stacked: true
            }
         }
      }
   });
</script>

<br><br>

<h4>Employee age groups</h4>

<div>
   <canvas id="age-groups"></canvas>
</div>

<!-- ### Age groups data (views.py) ### -->
<script id="age-groups-labels" type="application/json">{{age_groups_labels|safe}}</script>
<script id="age-groups-data" type="application/json">{{age_groups_data}}</script>

<!-- ### Age groups bar chart ### -->
<script>
   const age_groups_labels = JSON.parse(document.getElementById('age-groups-labels').textContent);
   const age_groups_data = JSON.parse(document.getElementById('age-groups-data').textContent);
   const age_groups = document.getElementById('age-groups');
   new Chart(age_groups, {
      type: 'bar',
      data: {
         labels: age_groups_labels,
         datasets: [{
            label: 'Observations',
            data: age_groups_data,
            borderWidth: 3
         }]
      },
      options: {
         plugins: {
            legend: {
               display: false
            }
         }
      }
   });
</script>

<br><br>

<h4>Company sizes</h4>

<div>
   <canvas id="company-size"></canvas>
</div>

<!-- ### Company size data (views.py) ### -->
<script id="company-size-labels" type="application/json">{{company_size_labels|safe}}</script>
<script id="company-size-data" type="application/json">{{company_size_data}}</script>

<!-- ### Company size donut chart ### -->
<script>
   const company_size_labels = JSON.parse(document.getElementById('company-size-labels').textContent);
   const company_size_data = JSON.parse(document.getElementById('company-size-data').textContent);
   const company_size = document.getElementById('company-size');
   new Chart(company_size, {
      type: 'doughnut',
      data: {
         labels: company_size_labels,
         datasets: [{
            label: 'Observations',
            data: company_size_data,
            borderWidth: 3
         }]
      }
   });
</script>

<br><br>

<h4>Amount remote days</h4>

<div>
   <canvas id="amount-days"></canvas>
</div>

<!-- ### Amount remote days data (views.py) ### -->
<script id="remote-days-labels" type="application/json">{{remote_days_labels|safe}}</script>
<script id="remote-days-data" type="application/json">{{remote_days_data}}</script>

<!-- ### Amount remote days bar chart ### -->
<script>
   const remote_days_labels = JSON.parse(document.getElementById('remote-days-labels').textContent);
   const remote_days_data = JSON.parse(document.getElementById('remote-days-data').textContent);
   const amount_days = document.getElementById('amount-days');
   new Chart(amount_days, {
      type: 'bar',
      data: {
         labels: remote_days_labels,
         datasets: [{
            data: remote_days_data,
            label: "Total",
            borderWidth: 2
         }]
      }
   });
</script>

{% endblock %}