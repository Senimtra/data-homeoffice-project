{% extends "base.html" %}

{% block content %}

<div>
   <canvas id="age-groups"></canvas>
</div>

<!-- ### Include Chart.js CDN ### -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- ### Age groups data (views.py) ### -->
<script id="age-groups-labels" type="application/json">{{labels|safe}}</script>
<script id="age-groups-data" type="application/json">{{data}}</script>

<!-- ### Age groups donut chart ### -->
<script>
   const labels = JSON.parse(document.getElementById('age-groups-labels').textContent);
   const data = JSON.parse(document.getElementById('age-groups-data').textContent);
   const age_groups = document.getElementById('age-groups');
   new Chart(age_groups, {
      type: 'doughnut',
      data: {
         labels: labels,
         datasets: [{
            label: 'Observations',
            data: data,
            borderWidth: 3
         }]
      }
   });
</script>

{% endblock %}